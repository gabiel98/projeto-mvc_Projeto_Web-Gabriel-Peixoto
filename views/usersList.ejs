<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8" />
    <title>Lista de Usu√°rios</title>
    <style>
        body { font-family: Arial, sans-serif; background:#f7f7f7; padding:20px }
        li { background: #fff; margin-bottom:10px; padding:10px; border:1px solid #ddd }
        .actions { margin-top:6px }
        .actions form { display:inline }
    </style>
</head>
<body>
    <!-- View: usersList.ejs
             Recebe a vari√°vel `usuarios` (array) do controller e lista-os.
             Links e formul√°rios usam rotas do tipo:
                 GET  /users/:id/edit   -> formul√°rio de edi√ß√£o
                 POST /users/:id/delete -> remove o usu√°rio
    -->

    <h1>Lista de Usu√°rios</h1>
    <a href="/users/new">‚ûï Adicionar Novo Usu√°rio</a>
    <ul>
        <% usuarios.forEach(function(user) { %>
            <li>
                <strong><%= user.nome %></strong> - <%= user.cargo %>
                <div class="actions">
                    <!-- rota de edi√ß√£o (GET) -->
                    <a href="/users/<%= user._id %>/edit"><button>‚úèÔ∏è Editar</button></a>
                    <!-- formul√°rio de exclus√£o (POST) -->
                    <form action="/users/<%= user._id %>/delete" method="POST">
                        <% if (typeof csrfToken !== 'undefined' && csrfToken) { %>
                            <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                        <% } %>
                        <button type="submit" style="color: red;">üóëÔ∏è Excluir</button>
                    </form>
                </div>
            </li>
        <% }) %>
    </ul>
</body>
</html>